rules = [(0, 8), (0, 11), (0, 13), (0, 17), (0, 18), (0, 20), (0, 21), (0, 25), (0, 26), (0, 27), (1, 7), (1, 12), (1, 14), (1, 16), (1, 19), (1, 22), (1, 29), (1, 32), (2, 8), (2, 11), (2, 13), (2, 17), (2, 18), (2, 20), (2, 21), (2, 25), (2, 26), (2, 27), (3, 7), (3, 12), (3, 14), (3, 16), (3, 19), (3, 22), (3, 29), (3, 32), (4, 9), (4, 10), (4, 15), (4, 28), (4, 33), (4, 35), (4, 36), (4, 37), (4, 40), (4, 41), (4, 43), (4, 44), (4, 46), (4, 48), (4, 50), (4, 52), (4, 54), (4, 56), (5, 9), (5, 10), (5, 15), (5, 24), (5, 28), (5, 30), (5, 31), (5, 33), (5, 35), (5, 36), (5, 37), (5, 40), (5, 41), (5, 43), (5, 44), (5, 46), (5, 48), (5, 50), (5, 52), (5, 54), (5, 56), (6, 10), (6, 15), (6, 24), (6, 28), (6, 30), (6, 31), (6, 33), (6, 35), (6, 36), (6, 37), (6, 40), (6, 41), (6, 43), (6, 44), (6, 46), (6, 48), (6, 50), (6, 52), (6, 54), (6, 56), (7, 8), (7, 11), (7, 17), (7, 18), (7, 25), (7, 26), (7, 27), (8, 12), (8, 14), (8, 19), (8, 29), (8, 32), (9, 8), (9, 17), (9, 18), (9, 25), (9, 26), (9, 27), (10, 8), (10, 11), (10, 13), (10, 17), (10, 18), (10, 20), (10, 21), (10, 25), (10, 26), (10, 27), (11, 12), (11, 14), (11, 19), (11, 29), (11, 32), (12, 13), (12, 17), (12, 18), (12, 25), (12, 26), (12, 27), (13, 9), (13, 10), (13, 15), (13, 24), (13, 28), (13, 30), (13, 31), (13, 33), (13, 35), (13, 36), (13, 37), (13, 40), (13, 41), (13, 43), (13, 44), (13, 46), (13, 48), (13, 50), (13, 52), (13, 54), (13, 56), (14, 9), (14, 10), (14, 15), (14, 24), (14, 28), (14, 30), (14, 31), (14, 33), (14, 35), (14, 36), (14, 37), (14, 40), (14, 41), (14, 43), (14, 44), (14, 46), (14, 48), (14, 50), (14, 52), (14, 54), (14, 56), (15, 23), (15, 34), (16, 8), (16, 17), (16, 18), (16, 20), (16, 25), (16, 26), (16, 27), (17, 12), (17, 14), (17, 16), (17, 19), (17, 22), (17, 29), (17, 32), (18, 15), (18, 33), (18, 35), (18, 36), (18, 37), (18, 40), (18, 41), (18, 43), (18, 44), (18, 46), (18, 48), (18, 50), (18, 52), (18, 54), (18, 56), (19, 18), (19, 20), (19, 21), (19, 25), (19, 26), (19, 27), (20, 12), (20, 19), (20, 22), (20, 29), (20, 32), (21, 9), (21, 10), (21, 15), (21, 24), (21, 28), (21, 30), (21, 31), (21, 33), (21, 35), (21, 36), (21, 37), (21, 40), (21, 41), (21, 43), (21, 44), (21, 46), (21, 48), (21, 50), (21, 52), (21, 54), (21, 56), (22, 9), (22, 10), (22, 15), (22, 24), (22, 28), (22, 30), (22, 31), (22, 33), (22, 35), (22, 36), (22, 37), (22, 40), (22, 41), (22, 43), (22, 44), (22, 46), (22, 48), (22, 50), (22, 52), (22, 54), (22, 56), (23, 24), (23, 28), (23, 30), (23, 31), (23, 33), (23, 35), (23, 36), (23, 37), (23, 40), (23, 41), (23, 43), (23, 44), (23, 46), (23, 48), (23, 50), (23, 52), (23, 54), (23, 56), (24, 8), (24, 17), (24, 18), (24, 25), (24, 27), (27, 24), (27, 28), (27, 30), (27, 31), (27, 33), (27, 35), (27, 36), (27, 37), (27, 40), (27, 41), (27, 43), (27, 44), (27, 46), (27, 48), (27, 50), (27, 52), (27, 54), (27, 56), (28, 12), (28, 19), (28, 29), (30, 8), (30, 17), (30, 18), (30, 26), (30, 27), (31, 12), (31, 19), (31, 32), (33, 23), (33, 34), (34, 15), (34, 35), (34, 36), (34, 37), (34, 41), (34, 43), (34, 44), (34, 48), (34, 50), (34, 52), (34, 54), (34, 56), (35, 55), (35, 57), (37, 45), (37, 53), (38, 9), (38, 10), (38, 15), (38, 24), (38, 28), (38, 30), (38, 31), (38, 33), (38, 35), (38, 36), (38, 37), (38, 40), (38, 41), (38, 43), (38, 44), (38, 46), (38, 48), (38, 50), (38, 52), (38, 54), (38, 56), (39, 10), (39, 15), (39, 24), (39, 28), (39, 30), (39, 31), (39, 33), (39, 35), (39, 36), (39, 37), (39, 40), (39, 41), (39, 43), (39, 44), (39, 46), (39, 48), (39, 50), (39, 52), (39, 54), (39, 56), (40, 55), (40, 57), (41, 49), (42, 10), (42, 15), (42, 24), (42, 28), (42, 30), (42, 31), (42, 33), (42, 35), (42, 36), (42, 37), (42, 40), (42, 41), (42, 43), (42, 44), (42, 46), (42, 48), (42, 50), (42, 52), (42, 54), (42, 56), (43, 47), (43, 51), (44, 45), (45, 15), (45, 36), (45, 37), (45, 41), (45, 43), (45, 48), (45, 50), (45, 54), (45, 56), (46, 47), (46, 51), (47, 15), (47, 37), (47, 43), (47, 48), (47, 50), (47, 52), (47, 54), (47, 56), (48, 49), (49, 37), (49, 50), (49, 52), (49, 54), (49, 56), (50, 47), (50, 51), (51, 15), (51, 35), (51, 36), (51, 37), (51, 41), (51, 43), (51, 44), (51, 46), (51, 48), (51, 52), (51, 54), (52, 53), (53, 15), (53, 37), (53, 43), (53, 48), (53, 54), (53, 56), (54, 55), (55, 37), (55, 43), (56, 55), (56, 57), (57, 15), (57, 33), (57, 35), (57, 36), (57, 37), (57, 40), (57, 41), (57, 43), (57, 44), (57, 46), (57, 48), (57, 52), (57, 54)]

f1 = open("rules_for_trace_3.1.txt","w")
counter = 0

# stack = []
# last_rule_lenth = 0
# counter = 0
# def Fw_recur(root, depth): # B
#     stack.append(root)
#     global last_rule_lenth, base, counter
#     for rule in rules: # for each rule in B->X
#                     #confidence                   #recall
#             if (stack[-1] == rule[0]) and depth <10 and (rule[1] not in stack): # or confidence[rule][1] == 1 or and (confidence[rule][0] == 1 or confidence[rule][1] == 1)
#                 depth += 1
#                 print(depth)
#                 Fw_recur(rule[1],depth)

            # elif len(stack)>= last_rule_lenth:
            #     last_rule_lenth = len(stack)
            #     rule = base + stack
            #     counter =  counter +1
            #     print(str(counter) + str(": ") + str(rule) + "\n")
            #     stack.pop()
            #     depth =  depth -1
            #     Fw_recur(stack[-1], depth)

            # else:
            #     print(stack)
            #     if(len(stack)>1):
            #         stack.pop()
                # if(len(stack)>1):
                #     # last_rule_lenth = len(stack)
                #     print(stack)
                #     stack.pop()
                #     depth = depth - 1
                #     Fw_recur(stack[-1], depth)
                # else:
                #     break

# for rule in rules:
#     if(rule[0] in [0,1]): #and src == dest:
#         depth = 0
#         base = [rule[0]] #base is the current seed being grown, is it being added to enhance readability
#         Fw_recur(rule[1],depth)

# counter  = 0
# # nodes = []
# visit = []
# def Traverse(root, depth, visit):
#     global counter
#     if (depth == global_depth):
#         # last_node = 0
#         # print("extra")
#         # print(visit)
#         counter = counter + 1
#         f1.write(str(counter) + str(": ") + str(visit) + "\n")
#             # last_node = x
#         # visit.remove(last_node)
#         return
#     # print(root)
#     noNewNode = 1
#     for rule in rules:
#         node = rule[1]
#         # print("visiting : " + str(rule[0]))
#         if ( node not in visit and rule[0] == root):
#             visit.append(node)
#             noNewNode = 0
#             Traverse(node, depth+1, visit)
#             visit.remove(node)
#
#     if (noNewNode == 1):
#         # print(visit)
#         counter = counter + 1
#         # f2.write(str(counter) + str(": ") + str(visit) + "\n")
#         # print("End\n")
#         # pass
#
# ## This is the MAX DEPTH
# global_depth = 8
#
# for rule in rules:
#     if(rule[0] in [0, 1, 2, 3, 4, 5, 6]):  # and src == dest:
#         visit.append(rule[0])
#         visit.append(rule[1])
#         base = [rule[0]]  # base is the current seed being grown, is it being added to enhance readability
#         Traverse(rule[1], 2, visit)
#         visit.remove(rule[1])
#         visit.remove(rule[0])
#
# f1.close()
# f2.close()

# nodes = []
visit = []
def Traverse(root, depth, visit):
    global counter
    if (depth == global_depth):
        # last_node = 0
        # print("extra")
        # print(visit)
        counter = counter + 1
        f1.write(str(visit) + "\n")
            # last_node = x
        # visit.remove(last_node)
        return
    # print(root)
    noNewNode = 1
    for rule in rules:
        node = rule[1]
        # print("visiting : " + str(rule[0]))
        if ( node not in visit and rule[0] == root):
            visit.append(node)
            noNewNode = 0
            Traverse(node, depth+1, visit)
            visit.remove(node)

    if (noNewNode == 1):
        # print(visit)
        counter = counter + 1
        f1.write(str(visit) + "\n")
        # f1.write(str(visit) + "\n")
        # print("End\n")

## This is the MAX DEPTH
global_depth = 8

for rule in rules:
    if(rule[0] in [0, 1, 2, 3, 4, 5, 6]):  # and src == dest:
        visit = []
        visit.append(rule[0])
        visit.append(rule[1])
        base = [rule[0]]  # base is the current seed being grown, is it being added to enhance readability
        Traverse(rule[1], 2, visit)
        visit.remove(rule[1])
        visit.remove(rule[0])
f1.write("Done!!!" + "\n")
f1.close()

